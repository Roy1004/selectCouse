<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="images/logo.png" type="image/png">
    <title>修改密码</title>
    <link href="css/style.default.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/childStyle.css">
</head>
<body>
<div class="container-fluid child-page">
    <div class="user-info panel panel-default">
        <div class="panel-heading">
            <h3>修改个人密码</h3>
        </div>
        <div class="panel-body panel-body-nopadding">
            <form role="form" class="form-horizontal form-bordered">
                <div class="form-group">
                    <label class="col-md-4 control-label">原密码：</label>
                    <div class="col-md-4">
                        <input type="text" placeholder="请输入原密码" id="password1" class="form-control" autocomplete="off"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-4 control-label">新密码：</label>
                    <div class="col-md-4">
                        <input type="text" placeholder="请输入新密码"  id="password2" class="form-control" autocomplete="off"/><span id="prompt1" class="prompt"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-4 control-label">确认新密码：</label>
                    <div class="col-md-4">
                        <input type="text" placeholder="请再次输入新密码" id="password3" class="form-control" autocomplete="off"/><span id="prompt2" class="prompt"></span>
                    </div>
                </div>
            </form>
        </div>
        <div class="panel-footer">
            <div class="row">
                <div class="col-md-8 col-md-offset-4">
                    <button class="btn btn-primary submit">提交</button>
                </div>
            </div>
            <div class="mb10"></div>
            <div class="row">
                <div class="col-md-8 col-md-offset-4">
                    <p>登录密码修改规则：</br>
                        1.密码长度为6~16位，至少包含数字、字母、特殊符号中的两类，字母区分大小写</br>
                        2.密码不可与账号相同
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
    <script src="js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript">

        $(document).ready(function () {
            var regPassword=/^(?![A-Z]+$)(?![a-z]+$)(?!\d+$)(?![\W_]+$)\S{6,16}$/;
            $("#password2").blur(function () {
                var password2=$("#password2").val();
                if(!regPassword.test(password2)){
                    $("#prompt1").text("密码格式不正确!");
                    $("#prompt1").css("color","red");
                    return false;
                }else{
                    $("#prompt1").text("通过!");
                    $("#prompt1").css("color","#2AED2E")
                }
            });
            $(".submit").click(function () {
                var password1=$("#password1").val();
                var password2=$("#password2").val();
                var password3=$("#password3").val();
                if(!password1|| !password2 || !password3 ){alert("信息不完整!");return false;}
                if(password3==password2){
                    $("#prompt2").text("通过!");
                    $("#prompt2").css("color","#2AED2E")
                }else{
                    $("#prompt2").text("两次输入的密码不相同!");
                    $("#prompt2").css("color","red");
                    return false;
                }
                /*console.log(password1);
                console.log(password2);
                console.log(password3);*/
                $.ajax(
                    {
                        type:'post',
                        url:'',
                        data:{
                            password:password2
                        },
                        dataType:'json',
                        success:function () {

                        },
                        error:function () {

                        }
                    }
                )
            })

        })
    </script>
</body>
</html>